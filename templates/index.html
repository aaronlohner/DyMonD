<!DOCTYPE html>
<html>
    <head>
        <title>DyMonD</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/webserver.css')}}" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div id="loading" style="display:none">
            <img id="loading-image" src="{{url_for('static', filename='images/ajax_loader_gray_128.gif')}}" alt="Loading..." />
        </div>
        <h1>DyMonD Controller Interface</h1>
        <p>Please enter the following information to begin monitoring your application:</p>
        <form action="inputs" method="post" onsubmit="changeCompleted()">
            <!-- <div>
                <b>Setup:</b>
                <label for="file">Read from file</label>
                <input type="radio" id="file" name="mode" value="f">
                <label for="interface">Capture from application</label>
                <input type="radio" id="interface" name="mode" value="i" checked>
            </div> -->
            <!-- <div>
                <b>Log transfer method:</b>
                <label for="log">Logging</label>
                <input type="radio" id="logging" name="log" value="log.txt">
                <label for="tcp">TCP</label>
                <input type="radio" id="tcp" name="log" value="*" checked>
            </div>
            <div>
                <b>Agent host:</b>
                <label for="node-02">node-02</label>
                <input type="radio" id="node-02" name="host" value=10.0.1.22 checked>
                <label for="compute-04">compute-04</label>
                <input type="radio" id="compute-04" name="host" value=10.0.1.54>
            </div> -->
            <label for="ip">Starting IP address:</label>
            <input type="text" id="ip" name="ip" pattern="^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$"><br>
            <label for="ip">Time (seconds):</label>
            <input type="number" id="time" name="time" min="5" max="1000" size="30"><br>
            <label for="ip">Name of output file:</label>
            <input type="text" id="out" name="out" pattern=".*\.json$"><br>
            <button>Send to controller</button>
        </form>
        <p id="completed"></p>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <!-- <script src="{{url_for('static', filename='js/webserver.js')}}"></script> -->
        <script>
            function changeCompleted(){
                document.getElementById("completed").innerHTML = "";
            }
            document.getElementById("completed").innerHTML = '{{ completed }}';
            
            $(window).submit(function () {
                $('#loading').show();
            })
        </script>
    </body>
</html>